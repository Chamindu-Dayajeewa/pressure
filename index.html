<!doctype>
<html>
  <head>
    <script src="https://use.typekit.net/uqo0cpv.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/poet.css">
    <link rel="stylesheet" type="text/css" href="css/prism.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="js/prism.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Pressure.js</title>
  </head>
  <body>
    <header>
      <div class="container">
        <span class="mighty-2 text-center-block">Pressure.js</span>
        <p class="text-fluid text-indent" style="margin-bottom: 0;">Pressure is a JavaScript library that makes dealing with Apple's Force Touch and 3D Touch simple. Force Touch for new Macs and 3D Touch for the new iPhone 6s and 6s Plus, all bundled under one roof with a simple API that makes working with them painless.</p>
        <p class="text-fluid text-indent">Pressure gives you a handle on browsers that do and don't support Force or 3D touch so you can plan for the users experince if they don't support it.</p>
        <a class="text-center-block download" href="https://github.com/yamartino/pressure">Download on <b>GitHub</b></a>
        <div class="social-buttons">
          <a class="github-button" href="https://github.com/yamartino/pressure" data-count-href="/yamartino/pressure/stargazers" data-count-api="/repos/yamartino/pressure#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star yamartino/pressure on GitHub">Star</a>
          <a class="twitter-share-button" href="https://twitter.com/intent/tweet?text=#PressureJS makes working with #ForceTouch and #3DTouch painless and great to use on the web http://yamartino.github.io/Pressure">Tweet</a>
        </div>
      </div>
    </header>
    <div class="container">
      <!-- Nav tabs -->
      <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="#examples" aria-controls="examples" role="tab" data-toggle="tab">Examples</a></li>
        <li role="presentation"><a href="#documentation" aria-controls="documentation" role="tab" data-toggle="tab">Documentation</a></li>
      </ul>
      <br />
      <!-- Tab panes -->
      <div class="tab-content">
        <div role="tabpanel" class="tab-pane active" id="examples">
          <h3>Current Support</h3>
          <ul>
            <li>iPhone 6s (safari)</li>
            <li>iPhone 6s Plus (safari)</li>
            <li>13" MacBook Pro 2015 (safari)</li>
            <li>15" MacBook Pro 2015 (safari)</li>
            <li>Magic Trackpad 2 (safari)</li>
            <li>(future devices and browser that support force will be added when they come out)</li>
          </ul>
          <p>If you are not using one of the devices / browsers listed above, here is a gif to show it in action.</p>
          <img src="pressure.gif" style="width: 100%;box-shadow: 0 0 5px 5px rgba(0,0,0,0.1);margin: 20px 0;" />
          <h3>Examples</h3>
          <div class="h4 doc-title">1. Pressure Change</div>
          <p>The best part about Pressure is that is uses a single API that works on both Force Touch and 3D Touch. (note: Apple currently only has support for desktop and mobile safari, but luckily with pressure you can test for that)</p>
          <div class="doc-section">
            <div class="doc-top">
              <h4>Targets All</h4>
              <div class="element" id="el1">0</div>
              <h4>Targets ONLY Force Touch</h4>
              <div class="element" id="el2">0</div>
              <h4>Targets ONLY 3D Touch</h4>
              <div class="element" id="el3">0</div>
            </div>
    <!--         <div class="doc-bottom">
              <pre class="language-javascript"><code></code></pre>
            </div> -->
          </div>

          <div class="h4 doc-title">2. Unblur Photo</div>
          <p>The harder you press on the button the less blurry the image will become.</p>
          <div class="doc-section">
            <div class="doc-top">
              <button id="peanuts-btn" class="btn btn-primary btn-lg">Press Me!</button>
              <div class="wrap-peanuts">
                <img src="http://www.clintonlibrary.gov/assets/storage/museum/images/temporary/GR_11A-rgb.jpg" id="peanuts"/>
              </div>
            </div>
    <!--         <div class="doc-bottom">
              <pre class="language-javascript"><code></code></pre>
            </div> -->
          </div>

          <div class="h4 doc-title">3. Text Size</div>
          <p>The harder you press on the text, the bigger it gets. This could be useful for accessibility on online articles.
          <div class="doc-section">
            <div class="doc-top">
              <div id="text-sizer">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
              </div>
            </div>
          </div>

          <div class="h4 doc-title">4. Rotating Square</div>
          <p>The harder you press on the square, the farther it will spin.
          <div class="doc-section">
            <div class="doc-top">
              <img id="spinning-cube" src="pickle.jpg"/>
            </div>
          </div>

          <div class="h4 doc-title">5. "Deep" or Force Press</div>
          <p>Press hard on the button, a "Deep" or Force press will occur and launch a bootstrap popover.
          <div class="doc-section">
            <div class="doc-top">
              <button id="popover" type="button" class="btn btn-lg btn-danger" data-toggle="popover" title="Deep Press Popover!" data-content='This popover was triggered because you pressed over 50% pressure on iOS or OSX. On OSX this is called a "force touch"''>Press hard to toggle popover</button>
            </div>
          </div>
        </div>


        <!-- DOCUMENTATION ----------------------------------------------------------------------- -->
        <div role="tabpanel" class="tab-pane" id="documentation">
          <div class="h4 doc-title">1. Installation</div>
          <p>Pressure is really simple to install, you can use npm or bower, or head over to the github and download the repo itself. All you need is the <code>pressure.min.js</code> or the <code>pressure.js</code> file.</p>
          <div class="doc-section">
            <div class="doc-top">
              <div class="center">bower</div>
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>bower install pressure --save</code></pre>
            </div>
          </div>
          <div class="doc-section">
            <div class="doc-top">
              <div class="center">npm</div>
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>npm install pressure --save</code></pre>
            </div>
          </div>

          <div class="h4 doc-title">2. Setup</div>
          <p>You can use pressure with browserify, debowerify, or anything that uses CommonJS to include packages. Pressure can be used normally if no module object exists.</p>
          <div class="doc-section">
            <div class="doc-bottom">
              <pre class="language-javascript"><code>// Regular
Pressure.set('#test', {
  change: function(force, event){
    console.log(force);
  }
});</code></pre>
            </div>
          </div>
          <div class="doc-section">
            <div class="doc-bottom">
              <pre class="language-javascript"><code>// Browserify, Debowerify, CommonJS
var Pressure = require('pressure');

Pressure.set('#test', {
  change: function(force, event){
    console.log(force);
  }
});</code></pre>
            </div>
          </div>

          <div class="h4 doc-title">3. Usage</div>
          <p>Pressure has a really simple method signature. The first argument is the element(s) you are targeting and the second argument is an object with optional callback functions.</p>
          <div class="doc-section">
            <div class="doc-top">
              <div id="output-element" style="width: 100%;padding: 10px;">Click Me</div>
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>// target all links
Pressure.set('a', {});

// pass in jQuery elements
var elements = $('.dogs');
Pressure.set(elements, {});

// pass in element list or single element
var elements2 = document.querySelectorAll('.cats');
Pressure.set(elements2, {});
var elements3 = document.getElementById('cat');
Pressure.set(elements3, {});

// element with the 'stuart' ID being selected and calling the 'change' callback
Pressure.set('#stuart', {
  change: function(force, event){
    // the force value is passed back as well as the full event
    this.innerHTML = force;
  }
});</code></pre>
            </div>
          </div>

          <div class="alert alert-success" role="alert"><b>Pro Tip:</b> "force" is a value passed back by the "change" function and is a value from 0 to 1. On Mac it is converted from a 1 to 3 scale to a 0 to 1 scale so it can be used in a consistent manner.</div>

          <p>This example uses all of the methods available to you in the callback object.</p>
          <div class="doc-section">
            <div class="doc-bottom">
              <pre class="language-javascript"><code>Pressure.set('#element', {
  start: function(){
    // this is called on force start
  },
  end: function(){
    // this is called on force end
  },
  startDeepPress: function(){
    // this is called on "force click" / "deep press", aka once the force is greater than 0.5
  },
  endDeepPress: function(){
    // this is called when the "force click" / "deep press" end
  },
  change: function(force, event){
    // this is called every time there is a change in pressure
  },
  unsupported: function(){
    // this is called once there is a touch on the element and the device or browser does not support Force or 3D touch
  }
});</code></pre>
            </div>
          </div>

          <div class="h4 doc-title">4. Device Targeting</div>
          <p>With Pressure, the standard <code>Pressure.set()</code> targets all devices, but you can target just 3D or Force touch seperaratly using <code>Pressure.set3DTouch()</code> and <code>Pressure.setForceTouch()</code>.</p>
          <div class="doc-section">
            <div class="doc-top">
              <div id="element-3d" style="width: 100%;padding: 10px;">Click Me On an iPhone 6s</div>
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>Pressure.set3DTouch('#element-3d', {
  change: function(force, event){
    this.innerHTML = force + 'on an iphone';
  }
});</code></pre>
            </div>
          </div>

          <div class="doc-section">
            <div class="doc-top">
              <div id="element-force" style="width: 100%;padding: 10px;">Click Me On a Mac with Force Touch</div>
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>Pressure.setForceTouch('#element-force', {
  change: function(force, event){
    this.innerHTML = force + 'on a Mac';
  }
});</code></pre>
            </div>
          </div>

          <div class="h4 doc-title">5. Helper</div>
          <p>You can use <code>Pressure.map()</code> to map a value from one range of values to another. It takes 5 params: <code>Pressure.map(inputValue, inputValueMin, inputValueMax, mapToMin, mapToMax);</code> Here is a good write up on how this works in the Processing framework: <a href="https://processing.org/reference/map_.html">Map Function</a></p>
          <div class="doc-section">
            <div class="doc-bottom">
              <pre class="language-javascript"><code>Pressure.set('#element', {
  change: function(force, event){
    // this takes the force, given that the force can range from 0 to 1, and maps that force value on a 100 to 200 range
    this.style.width = Pressure.map(force, 0, 1, 100, 200);
  }
});</code></pre>
            </div>
          </div>





          </div>

        </div>
      </div>


      <footer class="text-center-block">Pressure is created and maintained by Stuart Yamartino | <a class="text-smart-underline" href="https://twitter.com/StuYam">Twitter</a> | <a class="text-smart-underline" href="https://github.com/Yamartino">GitHub</a></footer>
    </div>

    <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

    <script type="text/javascript" src="js/pressure.min.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
    <!-- GitHub. -->
    <script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>
    <!-- Gitter Sidecar. -->
    <script>
      ((window.gitter = {}).chat = {}).options = {
        room: 'yamartino/pressure'
      };
    </script>
    <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>
  </body>
</html>
